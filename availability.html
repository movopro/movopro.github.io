<!DOCTYPE html>
<html lang="bg">
<head>
  <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-THLJ3QRR');</script>
<!-- End Google Tag Manager -->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Свободни дати | Memory Photo & Video</title>

<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet" />

<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}

:root{
  --cream:#f5f0e8;
  --dark:#0f0d0b;
  --gold:#c9a96e;
  --gold-light:#e8d5b0;
  --nav:#1e5c86;
}

body{
  font-family:'Montserrat',sans-serif;
  background:var(--dark);
  color:var(--cream);
  min-height: 100vh;
}

/* ===== TOP NAV (като index) ===== */
header{
  position: fixed;
  top: 0; left: 0; right: 0;
  background: var(--nav);
  z-index: 50;
  box-shadow: 0 8px 24px rgba(0,0,0,.25);
}

.nav-wrap{
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 14px 18px;
  gap: 14px;
  flex-wrap: wrap;
}

.brand{
  display:flex;
  align-items:center;
  gap:10px;
  text-decoration:none;
  color: var(--cream);
}

.brand img{
  width: 34px;
  height: 34px;
  border-radius: 10px;
  object-fit: cover;
  border: 1px solid rgba(255,255,255,.18);
  background: rgba(0,0,0,.10);
}

.brand span{
  font-family: 'Cormorant Garamond', serif;
  font-weight: 400;
  letter-spacing: .10em;
  font-size: 1.05rem;
  white-space: nowrap;
  opacity: .95;
}

/* Mobile menu toggle */
#menuToggle{display:none}

.burger{
  display:none;
  width:44px; height:44px;
  border:1px solid rgba(255,255,255,.18);
  border-radius:12px;
  background:rgba(0,0,0,.12);
  align-items:center;
  justify-content:center;
  cursor:pointer;
}

.burger div{
  width:18px; height:2px;
  background:rgba(245,240,232,.92);
  position:relative;
}
.burger div::before,.burger div::after{
  content:"";
  position:absolute; left:0;
  width:18px; height:2px;
  background:rgba(245,240,232,.92);
}
.burger div::before{top:-6px}
.burger div::after{top:6px}

nav{
  display:flex;
  gap:18px;
  align-items:center;
  flex-wrap:wrap;
}

nav a{
  color: rgba(245,240,232,.92);
  text-decoration:none;
  font-size: .80rem;
  letter-spacing: .16em;
  text-transform: uppercase;
  padding: 10px 10px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0);
  transition: .15s ease;
}
nav a:hover{
  background: rgba(0,0,0,.14);
  border-color: rgba(255,255,255,.12);
}
.nav-cta{
  border: 1px solid rgba(201,169,110,.55) !important;
  background: rgba(0,0,0,.10);
}

@media (max-width: 880px){
  .burger{display:flex}
  nav{
    display:none;
    width:100%;
    padding: 12px 0 4px;
    gap: 8px;
  }
  #menuToggle:checked ~ nav{display:flex}
  nav a{width:100%; text-align:left; padding:12px 12px}
}

/* ===== SECTION ===== */
.section{
  padding: 110px 20px 100px; /* място за fixed header */
}
.wrap{
  max-width:1000px;
  margin:0 auto;
  overflow-x: hidden; /* допълнителна защита от overflow на мобилни */
}
.title{
  font-family:'Cormorant Garamond',serif;
  font-size:2.3rem;
  letter-spacing:.08em;
  margin-bottom:16px;
  color:var(--gold-light);
}
.subtitle{
  opacity:.85;
  margin-bottom:30px;
  line-height:1.6;
}

/* ===== CALENDAR ===== */
.card{
  border-radius:22px;
  border:1px solid rgba(201,169,110,.25);
  background:rgba(255,255,255,.02);
  backdrop-filter:blur(8px);
  padding:30px;
  box-shadow:0 25px 60px rgba(0,0,0,.45);
  max-width: 100%;
}

.cal-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:20px;
  gap: 10px;
}
.cal-month{
  font-family:'Cormorant Garamond',serif;
  font-size:1.4rem;
  letter-spacing:.1em;
  color:var(--gold-light);
  text-align: center;
  flex: 1;
}
.cal-btn{
  width:44px;
  height:44px;
  border-radius:14px;
  border:1px solid rgba(201,169,110,.4);
  background:rgba(0,0,0,.2);
  color:var(--gold-light);
  font-size:20px;
  cursor:pointer;
  transition:.2s;
}
.cal-btn:hover{
  background:rgba(201,169,110,.15);
}

.grid{
  display:grid;
  grid-template-columns:repeat(7,1fr);
  gap:10px;
  max-width: 100%;
}

/* Клетки */
.cell{
  padding:12px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.10);
  min-height:55px;
  display:flex;
  align-items:flex-start;
  justify-content:flex-start;
  font-weight:600;
}

/* Заглавки Пн-Нд */
.dow{
  text-align:center;
  justify-content:center;
  font-size:.75rem;
  letter-spacing:.12em;
  opacity:.75;
  background: rgba(0,0,0,.22);
  border-color: rgba(201,169,110,.18);
  font-weight:500;
}

/* Празни клетки */
.empty{
  background: rgba(0,0,0,.12);
  border-color: rgba(255,255,255,.06);
  opacity:.25;
}

/* Свободно = зелено */
.free{
  background: rgba(0, 180, 90, .18);
  border-color: rgba(0, 180, 90, .55);
}

/* Заето = червено */
.busy{
  background: rgba(220, 45, 45, .20);
  border-color: rgba(220, 45, 45, .65);
  position:relative;
}

/* Легенда */
.legend{
  margin-top:18px;
  font-size:.85rem;
  opacity:.90;
  display:flex;
  gap:16px;
  flex-wrap:wrap;
}
.legend-item{
  display:flex;
  align-items:center;
  gap:8px;
}
.dot{
  width:10px;height:10px;border-radius:999px;display:inline-block;
}
.dot-free{ background: rgba(0, 180, 90, .9); }
.dot-busy{ background: rgba(220, 45, 45, .95); }

/* ===== FOOTER ===== */
footer{
  background:#000;
  padding:30px 20px;
  text-align:center;
  font-size:.75rem;
  letter-spacing:.15em;
  text-transform:uppercase;
  color:rgba(245,240,232,.6);
  border-top:1px solid rgba(201,169,110,.2);
}

/* ===== MOBILE FIX: calendar overflow ===== */
@media (max-width: 520px){
  .section{ padding: 110px 14px 80px; }
  .card{ padding: 16px; border-radius: 18px; }
  .grid{ gap: 6px; }

  .cell{
    padding: 8px;
    min-height: 42px;
    border-radius: 12px;
    font-size: 0.85rem;
  }

  .dow{
    font-size: 0.65rem;
    letter-spacing: .08em;
  }

  .cal-month{ font-size: 1.15rem; }
  .cal-btn{
    width: 40px; height: 40px;
    border-radius: 12px;
  }
}

@media (max-width: 360px){
  .grid{ gap: 5px; }
  .cell{ padding: 7px; min-height: 40px; font-size: 0.8rem; }
}
</style>
</head>

<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-THLJ3QRR"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<header>
  <div class="nav-wrap">
    <a class="brand" href="index.html" aria-label="Начало">
      <img src="icon.png" alt="Икона">
      <span>Memory Photo &amp; Video</span>
    </a>

    <input id="menuToggle" type="checkbox" />
    <label class="burger" for="menuToggle" aria-label="Меню"><div></div></label>

    <nav>
      <a href="index.html">Начало</a>
      <a href="portfolio.html">Портфолио</a>
      <a href="uslugi-ceni.html">Ценоразпис</a>
      <a href="availability.html" class="nav-cta">Свободни дати</a>
      <a href="about.html">За нас</a>
    </nav>
  </div>
</header>

<section class="section">
  <div class="wrap">
    <h2 class="title">Свободни дати</h2>
    <p class="subtitle">
      Червените дати са заети. Зелените са свободни (ориентировъчно). За потвърждение изпратете запитване.
    </p>

    <div class="card">
      <div class="cal-header">
        <button class="cal-btn" id="prev" type="button" aria-label="Предишен месец">‹</button>
        <div class="cal-month" id="monthLabel"></div>
        <button class="cal-btn" id="next" type="button" aria-label="Следващ месец">›</button>
      </div>

      <div class="grid" id="grid"></div>

      <div class="legend">
        <span class="legend-item"><i class="dot dot-free"></i> Свободно</span>
        <span class="legend-item"><i class="dot dot-busy"></i> Заето</span>
      </div>
    </div>
  </div>
</section>

<footer>
  © 2026 Memory Photo & Video. All rights reserved.
</footer>

<script>
(function(){
  // Заети дати (формат YYYY-MM-DD)
  const busy = new Set([
    "2026-03-14",
    "2026-04-18",
    "2026-04-25",
    "2026-05-16",
    "2026-05-24",
    "2026-05-25",
    "2026-05-26",
    "2026-05-30",
    "2026-06-20",
    "2026-07-18",
    "2026-07-28",
    "2026-07-30",
    "2026-09-26"
  ]);

  // ОГРАНИЧЕНИЕ: от Март 2026 до Септември 2026 (включително)
  const minView = new Date(2026, 2, 1);  // March
  const maxView = new Date(2026, 8, 1);  // September

  const monthNames = ["Януари","Февруари","Март","Април","Май","Юни",
                      "Юли","Август","Септември","Октомври","Ноември","Декември"];
  const dow = ["Пн","Вт","Ср","Чт","Пт","Сб","Нд"];

  const grid = document.getElementById("grid");
  const label = document.getElementById("monthLabel");
  const prev = document.getElementById("prev");
  const next = document.getElementById("next");

  if(!grid || !label || !prev || !next) return;

  let view = new Date(minView.getFullYear(), minView.getMonth(), 1);

  function pad(n){return String(n).padStart(2,"0")}
  function fmt(d){return d.getFullYear()+"-"+pad(d.getMonth()+1)+"-"+pad(d.getDate())}

  function clampView(){
    if(view < minView) view = new Date(minView.getFullYear(), minView.getMonth(), 1);
    if(view > maxView) view = new Date(maxView.getFullYear(), maxView.getMonth(), 1);
  }

  function updateButtons(){
    const atMin = (view.getFullYear() === minView.getFullYear() && view.getMonth() === minView.getMonth());
    const atMax = (view.getFullYear() === maxView.getFullYear() && view.getMonth() === maxView.getMonth());

    prev.disabled = atMin;
    next.disabled = atMax;

    prev.style.opacity = atMin ? ".35" : "1";
    next.style.opacity = atMax ? ".35" : "1";
    prev.style.cursor = atMin ? "not-allowed" : "pointer";
    next.style.cursor = atMax ? "not-allowed" : "pointer";
  }

  function render(){
    clampView();
    grid.innerHTML="";

    // Header: days of week
    dow.forEach(d=>{
      const el=document.createElement("div");
      el.className="cell dow";
      el.textContent=d;
      grid.appendChild(el);
    });

    const y=view.getFullYear();
    const m=view.getMonth();
    label.textContent=monthNames[m]+" "+y;

    const first=new Date(y,m,1);
    const last=new Date(y,m+1,0);

    // Monday-first offset
    const offset=(first.getDay()+6)%7;

    // Empty cells
    for(let i=0;i<offset;i++){
      const e=document.createElement("div");
      e.className="cell empty";
      grid.appendChild(e);
    }

    // Days
    for(let d=1; d<=last.getDate(); d++){
      const date=new Date(y,m,d);
      const key=fmt(date);

      const e=document.createElement("div");
      const isBusy = busy.has(key);

      e.className = "cell " + (isBusy ? "busy" : "free");
      e.textContent = d;

      grid.appendChild(e);
    }

    updateButtons();
  }

  prev.onclick=()=>{
    if(prev.disabled) return;
    view=new Date(view.getFullYear(), view.getMonth()-1, 1);
    render();
  };

  next.onclick=()=>{
    if(next.disabled) return;
    view=new Date(view.getFullYear(), view.getMonth()+1, 1);
    render();
  };

  render();
})();
</script>

</body>
</html>
